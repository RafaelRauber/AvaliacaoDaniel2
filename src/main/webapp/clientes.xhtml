<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<h:head/>

	<ui:composition template="/resources/template/template.xhtml">

	<ui:define name="titulo">Clientes</ui:define>
		
		<ui:define name="conteudo">
		
			<h:form id="cadastroCliente">
				
				<p:growl id="mensagem" life="2500"/>  
				
				<p:fieldset legend="Novo cliente" styleClass="caixa">
					<h:panelGrid columns="2">
						
						<p:outputLabel value="Código*"/>
						<p:inputText value="#{clienteController.cliente.codigo}"/>
						
						<p:outputLabel value="Nome*"/>
						<p:inputText value="#{clienteController.cliente.nome}"/>
						
						<p:outputLabel value="Endereço"/>
						<p:inputText value="#{clienteController.cliente.endereco}"/>
						
						<p:outputLabel value="Telefone"/>
						<p:inputText value="#{clienteController.cliente.telefone}"/>
						
						
						<p:outputLabel value="Email"/>
						<p:inputText value="#{clienteController.cliente.email}"/>
						
						<p:outputLabel/>
						<p:commandButton value="Confirmar" actionListener="#{clienteController.cadastrar}" process="@form" update="@form :tabelaClientes"/>
						
					</h:panelGrid>
				</p:fieldset>
			</h:form>
			
			<h:form id="tabelaClientes">
				<p:dataTable emptyMessage="Nenhum usuário encontrado" value="#{clienteController.listaDeClientes}" var="cliente"
				paginator="true" paginatorPosition="bottom" rows="5" styleClass="caixa">
				
					<p:column headerText="ID">
				        <h:outputText value="#{cliente.id}" />
				    </p:column>
				    
				    <p:column headerText="Código">
				        <h:outputText value="#{cliente.codigo}" />
				    </p:column>
				    
				    <p:column headerText="Nome">
				        <h:outputText value="#{cliente.nome}" />
				    </p:column>
				    
				    <p:column headerText="Endereço">
				        <h:outputText value="#{cliente.endereco}" />
				    </p:column>
				    
				    <p:column headerText="Telefone">
				        <h:outputText value="#{cliente.telefone}" />
				    </p:column>
				    
				    <p:column headerText="Email">
				        <h:outputText value="#{cliente.email}" />
				    </p:column>
				    
				    <p:column headerText="Ações">
					    <p:commandButton icon="fa fa-pencil" actionListener="#{clienteController.editar(cliente)}" update="cadastroCliente">
					    	<p:confirm header="Confirmação" message="Editar Cliente?"/>
					    </p:commandButton>
					    	
					    <p:commandButton icon="fa fa-trash" actionListener="#{clienteController.excluir(cliente)}" update="tabelaClientes cadastroCliente:mensagem">
					    	<p:confirm header="Confirmação" message="Remover do Cliente?"/>
					    </p:commandButton>
					</p:column>
				    
				</p:dataTable>
			</h:form>
		
		</ui:define>
		
	</ui:composition>

</html>
